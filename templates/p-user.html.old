<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>Gabmap - Userpage account</title>
    <link rel="stylesheet" type="text/css" href="../styles.css">
  </head>
<body>

<div class="pguser">

Welcome {0[username]}

<h2>Your projects</h2>

{0[projects]}

<h3>Create a new project</h3>

<script language="JavaScript"><!--
function trim(stringToTrim) {{
  return stringToTrim.replace(/^\s+|\s+$/g,"");
}}
function formtest() {{
  f = document.newproject;
  i = f.allmethod.selectedIndex;
  valid = true;
  if (trim(f.description.value) == '') {{
    alert ('Missing: description');
    valid = false;
  }} else if (trim(f.data.value) == '') {{
    alert ('Missing: data file');
    valid = false;
  }} else if (i == 0 || i == 4 || i == 7 || i == 9) {{ 
    alert ('Missing: type of processing');
    valid = false;
  }} else if (i == 3 && trim(f.featdef.value) == '') {{
    alert ('Missing: definition file');
    valid = false;
  }} else if (trim(f.map.value) == '') {{
    var answer = confirm('Missing: kmz or kml file\n\nDo you want to make a pseudomap?');
    if (answer) {{
      f.pseudo.value = '1';
    }} else {{
      valid = false;
    }}
  }}
  return valid;
}}
function checkmethod() {{
  s = document.getElementById('userdef').style;
  if (document.newproject.allmethod.selectedIndex == 3) {{
    s.visibility = 'visible';
    s.display = 'block';
  }} else {{
    s.visibility = 'hidden';
    s.display = 'none';
  }}
}}
//--></script>

<form action="{0[appurl]}bin/project" method="post"
	enctype="multipart/form-data" accept-charset="utf-8"
	name="newproject" onsubmit="return formtest()">
<input type="hidden" name="action" value="create">
<input type="hidden" name="pseudo" value="">
<fieldset>
<legend>Description</legend>
<input type="text" name="description" size="80">
</fieldset>
<p>
<fieldset>
<legend>Map</legend>
Upload kml or kmz file:{0[helpmap]}<br>
<input type="file" name="map" size="40"> (optional, but you really should)
<p>
<input type="checkbox" name="shmap">
Disperse places that are too close to each other{0[helpshmap]}
</fieldset>
<p>
<fieldset>
<legend>Data</legend>
Upload data file:{0[helpdata]}<br>
<input type="file" name="data" size="40">
<p>
Type of processing:{0[helptype]}<br> 
<select name="allmethod" onchange="checkmethod()">
<option value="01">-- for string data --</option>
<option value="lev">string edit distance &mdash; plain</option>
<option value="levfeat-tok" selected="selected">string edit distance &mdash; tokenized</option>
<option value="levfeat-user">string edit distance &mdash; user defined</option>
<option value="02">-- for categorial data --</option>
<option value="bin">binary comparison</option>
<option value="giw">Gewichteter Identit√§tswert</option>
<option value="03">-- for set data --</option>
<option value="ham">Hamming distance</option>
<option value="04">-- for numeric data --</option>
<option value="numeuc">Numeric distance &mdash; Euclidean</option>
<option value="numeucnorm">Numeric distance &mdash; Euclidean &mdash; normalised by column</option>
<option value="numman">Numeric distance &mdash; Manhattan</option>
<option value="nummannorm">Numeric distance &mdash; Manhattan &mdash; normalised by column</option>
</select>
<div id="userdef" style="visibility:hidden;display:none">
<p>
Upload definition file:<br>
<input type="file" name="featdef" size="40">
</div>
</fieldset>
<p>
<input type="submit" value="Create project">
</form>
<div class="todo">
To do:
<ul>
<li>table of character classes is still incomplete
<li>upload table with differences instead of normal data
</ul>
</div>
</div>

</body>
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: html
coding:utf-8
sgml-declaration:"HTML4.01/HTML4.decl"
sgml-omittag:t
sgml-shorttag:nil
End:
-->
